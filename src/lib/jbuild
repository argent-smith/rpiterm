;; -*- mode: lisp; -*-
(jbuild_version 1)

(library
 ((name thermometer)
  (modules (thermometer))
  (libraries (lwt))
  (preprocess (pps (lwt.ppx)))
  (flags (-safe-string))
  (ocamlopt_flags (-O2 -safe-string))
  ))

(library
 ((name operations)
  (modules (operations
            metrics))
  (libraries (thermometer
              prometheus
              prometheus-app.unix))
  (preprocess (pps (lwt.ppx)))
  (flags (-safe-string))
  (ocamlopt_flags (-O2 -safe-string))
  ))
